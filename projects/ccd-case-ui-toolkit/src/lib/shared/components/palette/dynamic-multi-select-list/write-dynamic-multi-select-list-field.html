<div class="form-group bottom-30" [ngClass]="{'error': !checkboxes.valid && checkboxes.touched}" [id]="id()">

  <fieldset>

    <legend>
      @if (caseField.label) {
        <span class="form-label">{{caseField | ccdFieldLabel}}</span>
      }
      @if (caseField.hint_text) {
        <span class="form-hint">{{caseField.hint_text}}</span>
      }
      @if (checkboxes.errors && checkboxes.touched) {
        <span class="error-message">{{checkboxes.errors |
        ccdFirstError}}</span>
      }
    </legend>

    @for (checkbox of caseField.list_items; track checkbox) {
      <div class="multiple-choice">
        <input class="form-control" id="{{ createElementId(checkbox.code) }}" name="{{ id() }}" type="checkbox"
          [value]="checkbox.code" [checked]="isSelected(checkbox.code)" (change)="onCheckChange($event)">
        <label class="form-label" for="{{ createElementId(checkbox.code) }}">
          <ccd-markdown [content]="checkbox.label" [renderUrlToTextFeature]="false"></ccd-markdown>
        </label>
      </div>
    }

  </fieldset>

</div>
