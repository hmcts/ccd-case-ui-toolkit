<div>
  <button type="button" class="overlay-toggle"
          (click)="$event.stopPropagation(); isOpen = !isOpen"
          cdkOverlayOrigin #trigger="cdkOverlayOrigin">
    <ng-content select="[trigger]"></ng-content>
  </button>

  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isOpen"
    [cdkConnectedOverlayHasBackdrop]="true"
    [cdkConnectedOverlayBackdropClass]="'cdk-overlay-transparent-backdrop'"
    (backdropClick)="closeOverlay()"
  >
    <div class="overlay-menu">
      <ng-container *ngIf="title">
        <div class="overlay-menu__title">{{title}}</div>
      </ng-container>

      <menu *ngFor="let item of menuItems">
        <li class="overlay-menu__item" (click)="item.actionFn(); closeOverlay();" (keyup)="$event.key === 'Enter' ? item.actionFn(); closeOverlay(); : null">
          <img *ngIf="item.iconSrc" [src]="item.iconSrc" class="overlay-menu__itemIcon" alt="{{title}} icon'" />
          <span class="overlay-menu__actionText">{{item.actionText}}</span>
        </li>
      </menu>
    </div>
  </ng-template>
</div>
