<div class="document-filter-container">
  <div class="form-group document-filter" [formGroup]="documentFilterFormGroup">
    <input class="form-control document-search"
      type="search"
      id="document-search"
      name="documentSearchFormControl"
      formControlName="documentSearchFormControl"
      placeholder="Search by document name">
  </div>
  <div class="documents-title">Documents</div>
</div>
<div class="document-tree" *ngIf="documentTreeData">
  <div *ngIf="!nestedDataSource || nestedDataSource.length === 0">
    No results found
  </div>
  <cdk-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl">
    <!-- document -->
    <cdk-nested-tree-node *cdkTreeNodeDef="let node" class="document-tree-node">
      <div class="node">
        <button class="node-button" mat-icon-button>
          <img alt="document image" src="/assets/images/document.png" class="icon" />
          <div class="node-name node-name-document">{{node.name}}</div>
        </button>
      </div>
    </cdk-nested-tree-node>
    <!-- folder-->
    <cdk-nested-tree-node *cdkTreeNodeDef="let node; when: nestedChildren" class="document-tree-node">
      <div class="node">
        <button class="node-button" mat-icon-button [attr.aria-label]="'toggle ' + node.name" cdkTreeNodeToggle>
          <img alt="folder image" [src]="nestedTreeControl.isExpanded(node) ? '/assets/images/folder-open.png' : '/assets/images/folder.png'" class="icon" />
          <div class="node-name node-name-folder">{{node.name}}</div>
        </button>
      </div>
      <div [class.document-tree-invisible]="!nestedTreeControl.isExpanded(node)">
        <ng-container cdkTreeNodeOutlet></ng-container>
      </div>
    </cdk-nested-tree-node>
  </cdk-tree>
</div>

<!--<div class="document-folders-header">-->
<!--  <div class="document-folders-header__title">Documents</div>-->
<!--  <div>-->
<!--    <ccd-case-file-view-folder-sort-->
<!--      (sortAscending)="sortDataSourceAscAlphabetically()"-->
<!--      (sortDescending)="sortDataSourceDescAlphabetically()"-->
<!--    ></ccd-case-file-view-folder-sort>-->
<!--  </div>-->
<!--</div>-->

<!--<div class="document-tree-container">-->
<!--  <cdk-tree #tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl">-->
<!--    &lt;!&ndash; document &ndash;&gt;-->
<!--    <cdk-nested-tree-node *cdkTreeNodeDef="let node" class="document-tree-node">-->
<!--      <button class="node">-->
<!--        <div class="node__icon" mat-icon-button disabled>-->
<!--          <img src="/assets/images/document.png" class="node__iconImg" alt="Document icon">-->
<!--        </div>-->
<!--        <span class="node__name node-name-document">{{node.name}}</span>-->
<!--        <div class="node__document-options">-->
<!--          <ccd-case-file-view-folder-document-actions-->
<!--            (changeFolderAction)="triggerDocumentAction('changeFolder', node)"-->
<!--            (openInANewTabAction)="triggerDocumentAction('openInANewTab', node)"-->
<!--            (downloadAction)="triggerDocumentAction('download', node)"-->
<!--            (printAction)="triggerDocumentAction('print', node)">-->
<!--          </ccd-case-file-view-folder-document-actions>-->
<!--        </div>-->
<!--      </button>-->
<!--    </cdk-nested-tree-node>-->
<!--    &lt;!&ndash; folder&ndash;&gt;-->
<!--    <cdk-nested-tree-node *cdkTreeNodeDef="let node; when: nestedChildren" class="document-tree-node">-->
<!--      <button class="node" cdkTreeNodeToggle>-->
<!--        <div class="node__icon" mat-icon-button [attr.aria-label]="'toggle ' + node.name" >-->
<!--          <img src="/assets/images/folder.png" class="node__iconImg" alt="Folder icon">-->
<!--          <span class="node__count">{{node.childDocumentCount}}</span>-->
<!--        </div>-->
<!--        <span class="node__name node__name&#45;&#45;folder">{{node.name}}</span>-->
<!--      </button>-->
<!--      <div [class.document-tree-invisible]="!nestedTreeControl.isExpanded(node)">-->
<!--        <ng-container cdkTreeNodeOutlet></ng-container>-->
<!--      </div>-->
<!--    </cdk-nested-tree-node>-->
<!--  </cdk-tree>-->
<!--</div>-->
