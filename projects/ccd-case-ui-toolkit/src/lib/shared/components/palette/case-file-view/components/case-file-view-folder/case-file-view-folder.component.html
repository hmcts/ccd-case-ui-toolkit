<div class="document-filter-container">
  <div class="form-group document-filter" [formGroup]="documentFilterFormGroup">
    <input class="form-control document-search"
      type="search"
      id="document-search"
      name="documentSearchFormControl"
      formControlName="documentSearchFormControl"
      placeholder="Search by document name">
  </div>
  <div class="documents-title">Documents</div>
</div>
<div class="document-tree" *ngIf="documentTreeData">
  <div *ngIf="!nestedDataSource || nestedDataSource.length === 0">
    No results found
  </div>
  <cdk-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl">
    <!-- document -->
    <cdk-nested-tree-node *cdkTreeNodeDef="let node" class="document-tree-node">
      <div class="node">
        <button class="node-button" mat-icon-button>
          <img src="/assets/images/document.png" class="icon" />
          <div class="node-name node-name-document">{{node.name}}</div>
        </button>
      </div>
    </cdk-nested-tree-node>
    <!-- folder-->
    <cdk-nested-tree-node *cdkTreeNodeDef="let node; when: nestedChildren" class="document-tree-node">
      <div class="node">
        <button class="node-button"
          mat-icon-button
          [attr.aria-label]="'toggle ' + node.name"
          cdkTreeNodeToggle
          (click)="onDocumentTreeNodeSelected($event)"
        >
          <img [src]="nestedTreeControl.isExpanded(node) ? '/assets/images/folder-open.png' : '/assets/images/folder.png'" class="icon" />
          <div class="node-name node-name-folder">{{node.name}}</div>
        </button>
      </div>
      <div [class.document-tree-invisible]="!nestedTreeControl.isExpanded(node)">
        <ng-container cdkTreeNodeOutlet></ng-container>
      </div>
    </cdk-nested-tree-node>
  </cdk-tree>
</div>
