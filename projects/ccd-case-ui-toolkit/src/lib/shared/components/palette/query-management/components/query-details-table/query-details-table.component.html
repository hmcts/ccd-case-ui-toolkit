<ng-container *ngIf="queryItem">
  <table class="govuk-table query-details-table" [attr.aria-describedby]="'Details of the query' | rpxTranslate">
    <tbody class="govuk-table__body">
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Last submitted by' | rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.lastSubmittedBy }}</td>
      </tr>
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Submission date' | rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.createdOn | date: 'dd MMM yyyy' }}</td>
      </tr>
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Query subject' | rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.subject }}</td>
      </tr>
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Query body' | rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.body }}</td>
      </tr>
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Is the query hearing related?' | rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.isHearingRelated ? 'Yes' : 'No' }}</td>
      </tr>
      <tr class="govuk-table__row" *ngIf="queryItem.isHearingRelated">
        <th scope="row" class="govuk-table__header">{{ 'What is the date of the hearing your query is related to?' |
          rpxTranslate }}</th>
        <td class="govuk-table__cell">{{ queryItem.hearingDate | date: 'dd MMM yyyy' }}</td>
      </tr>
      <tr class="govuk-table__row">
        <th scope="row" class="govuk-table__header">{{ 'Attachments' | rpxTranslate }}</th>
        <td class="govuk-table__cell">
          <div *ngFor="let attachment of queryItem.attachments">
            <a [href]="attachment._links.self.href" target="_blank">{{ attachment.originalDocumentName }}</a>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</ng-container>