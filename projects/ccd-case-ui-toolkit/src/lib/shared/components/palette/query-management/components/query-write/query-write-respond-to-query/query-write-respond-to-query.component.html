<div class="govuk-!-margin-bottom-2">
  <a href="javascript:void(0)" class="govuk-back-link govuk-!-margin-top-0">{{ 'Back to tasks' | rpxTranslate }}</a>
</div>

<div class="govuk-!-margin-bottom-6">
  <div class="govuk-!-margin-bottom-6">
    <div class="govuk-caption-l">{{ 'Respond to query' | rpxTranslate }}</div>
    <h1 class="govuk-heading-l govuk-!-margin-bottom-0">{{ 'Query details' | rpxTranslate }}</h1>
  </div>

  <div class="govuk-!-margin-bottom-4">
    <ccd-query-case-details-header></ccd-query-case-details-header>
  </div>

  <div>
    <ccd-query-details-table [queryItem]="queryItem"></ccd-query-details-table>
  </div>
</div>

<div class="query-respond">
  <div class="govuk-!-margin-bottom-4">
    <h1 class="govuk-heading-m">
      {{ QueryCreateContext === queryItemTypeEnum.RESPOND ? 'Respond to a query' : 'Ask a follow-up question' | rpxTranslate }}
    </h1>

    <div [formGroup]="formGroup">
      <div class="govuk-form-group"
           [class.govuk-form-group--error]="formGroup.get('fullName')?.errors?.length">
        <div class="govuk-label-wrapper">
          <label class="govuk-label govuk-label--m govuk-!-font-weight-bold" for="query-respond-fullName">
            {{ 'Full name' | rpxTranslate }}
          </label>
        </div>
        <div id="query-respond-fullName-hint" class="govuk-hint">
          {{ 'Your full name must be included here' | rpxTranslate }}
        </div>
        <p id="query-respond-fullName-error" class="govuk-error-message"
           *ngIf="formGroup.get('fullName')?.errors?.length">
          <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }}</span> {{ 'Enter your full name' | rpxTranslate }}
        </p>
        <input class="govuk-input" id="query-respond-fullName" name="query-respond-fullName" type="text"
               [class.govuk-input--error]="formGroup.get('fullName')?.errors?.length"
               [formControlName]="'fullName'"/>
      </div>

      <div class="govuk-form-group body-textarea"
           [class.govuk-form-group--error]="formGroup.get('body')?.errors?.length">
        <div class="govuk-label-wrapper">
          <label class="govuk-label govuk-!-font-weight-bold" for="query-body">
            {{ QueryCreateContext === queryItemTypeEnum.RESPOND ? 'Response message' : 'Query Body' | rpxTranslate }}
          </label>
        </div>
        <p id="query-body-error" class="govuk-error-message"
           *ngIf="formGroup.get('body')?.errors?.length">
          <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }}</span> {{ 'Enter a response message' | rpxTranslate }}
        </p>
        <textarea [formControlName]="'body'" class="govuk-textarea"
                  [class.govuk-textarea--error]="formGroup.get('body')?.errors?.length" id="query-body"
                  name="query-body" rows="5" aria-describedby="query-body-hint query-body-error">
      </textarea>
      </div>
    </div>
  </div>
</div>