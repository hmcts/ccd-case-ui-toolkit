@if (qualifyingQuestionsControl) {
  <div class="govuk-form-group" [class.govuk-form-group--error]="displayError">
    <fieldset class="govuk-fieldset">
      <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
        <h1 class="govuk-fieldset__heading">
          {{ 'Raise a new query' | rpxTranslate }}
        </h1>
      </legend>
      <h2 class="govuk-heading-m govuk-!-margin-top-10">
        {{ 'What do you need help to do?' | rpxTranslate }}
      </h2>
      @if (displayError) {
        <p class="govuk-error-message">
          <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }} </span>{{
          qualifyingQuestionsErrorMessage.SELECT_AN_OPTION | rpxTranslate }}
        </p>
      }
      <div class="govuk-radios" data-module="govuk-radios">
        @for (qualifyingQuestion of qualifyingQuestions$ | async; track qualifyingQuestion; let isLast = $last) {
          @if (isLast) {
            <div class="qm-qualifying-question__divider">{{ 'If your issue is not covered by the options above, raise a query:' | rpxTranslate }}</div>
          }
          <div class="govuk-radios__item">
            <input class="govuk-radios__input"
              id="{{qualifyingQuestion.name}}"
              name="qualifyingQuestionOption"
              type="radio" [formControl]="qualifyingQuestionsControl"
              [value]="qualifyingQuestion"
              (change)="onSelectionChange(qualifyingQuestion)">
            <label class="govuk-label govuk-radios__label" [for]="qualifyingQuestion.name">{{ qualifyingQuestion.name |
            rpxTranslate }}</label>
          </div>
        }
      </div>
    </fieldset>
  </div>
}
