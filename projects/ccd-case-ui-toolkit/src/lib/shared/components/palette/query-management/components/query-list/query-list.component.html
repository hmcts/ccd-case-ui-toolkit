@if (queryListData) {
  <table class="govuk-table query-list__table">
    <caption class="govuk-table__caption govuk-table__caption--l query-list__caption">
      <div class="query-list__caption-text">{{ queryListData.partyName }}</div>
    </caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row query-list__row">
        @for (col of displayedColumns; track col; let i = $index) {
          <th scope="col" class="govuk-table__header" [attr.aria-sort]="getAriaSortHeaderValue(col)"
            >
            <button type="button" [attr.data-index]="i" aria-sort="none" (click)="sortTable(col)" href="javascript:void(0)">
              {{ col.displayName | rpxTranslate }}
            </button>
          </th>
        }
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      @for (message of queryListData.queries; track message) {
        <tr class="govuk-table__row query-list__row"
          >
          <td class="govuk-table__cell query-list__cell query-list__cell--first">
            <a href="javascript:void(0)" (click)="showDetails(message)">{{ message.subject }}</a>
          </td>
          <td class="govuk-table__cell query-list__cell">{{ message.lastSubmittedBy }}</td>
          <td class="govuk-table__cell query-list__cell">{{ message.lastSubmittedDate | date: 'dd MMM YYYY HH:mm' }} </td>
          <td class="govuk-table__cell query-list__cell">{{ message.lastResponseDate | date: 'dd MMM YYYY HH:mm' }} </td>
          <td class="govuk-table__cell query-list__cell">{{ message.responseStatus | rpxTranslate }}</td>
        </tr>
      }
    </tbody>
  </table>
}
