<div>
  <div class="govuk-!-margin-bottom-6">
    <div class="govuk-caption-l">{{ 'Raise a query' | rpxTranslate }}</div>
    <h1 class="govuk-heading-l govuk-!-margin-bottom-4">{{ 'Enter query details' | rpxTranslate }}</h1>
  </div>

  <div>
    <ccd-query-case-details-header></ccd-query-case-details-header>
  </div>

  <hr>

  <div class="govuk-!-margin-bottom-4">
    <div [formGroup]="formGroup">
      <div>
        <div class="govuk-form-group"
             [class.govuk-form-group--error]="formGroup.get('fullName')?.errors?.length">
          <div class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--m govuk-!-font-weight-bold" for="query-raise-fullName">
              {{ 'Full name' | rpxTranslate }}
            </label>
          </div>
          <div id="query-raise-fullName-hint" class="govuk-hint">
            {{ 'Your full name must be included here' | rpxTranslate }}
          </div>
          <p id="query-raise-fullName-error" class="govuk-error-message"
             *ngIf="formGroup.get('fullName')?.errors?.length">
            <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }}</span> {{ 'Enter a message' |
            rpxTranslate }}
          </p>
          <input class="govuk-input" id="query-raise-fullName" name="query-raise-fullName" type="text"
                 [class.govuk-input--error]="formGroup.get('fullName')?.errors?.length"
                 [formControlName]="'fullName'"/>
        </div>

        <div class="govuk-form-group"
             [class.govuk-form-group--error]="formGroup.get('subject')?.errors?.length">
          <div class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--m govuk-!-font-weight-bold" for="query-raise-subject">
              {{ 'Query subject' | rpxTranslate }}
            </label>
          </div>
          <div id="query-raise-subject-hint" class="govuk-hint">
            {{ 'The subject should be a summary of your query' | rpxTranslate }}
          </div>
          <p id="query-raise-subject-error" class="govuk-error-message"
             *ngIf="formGroup.get('body')?.errors?.length">
            <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }}</span> {{ 'Enter a subject' |
            rpxTranslate }}
          </p>
          <input class="govuk-input" id="query-raise-subject" name="query-raise-subject" type="text"
                 [class.govuk-input--error]="formGroup.get('subject')?.errors?.length"
                 [formControlName]="'subject'"/>
        </div>

        <div class="govuk-form-group"
             [class.govuk-form-group--error]="formGroup.get('body')?.errors?.length">
          <div class="govuk-label-wrapper">
            <label class="govuk-label govuk-label--m govuk-!-font-weight-bold" for="query-raise-body">
              {{ 'Query body' | rpxTranslate }}
            </label>
          </div>
          <div id="query-raise-body-hint" class="govuk-hint">
            {{ 'Include as many details as possible so case workers can respond to your query' | rpxTranslate }}
          </div>
          <p id="query-raise-body-error" class="govuk-error-message"
             *ngIf="formGroup.get('body')?.errors?.length">
            <span class="govuk-visually-hidden">{{ 'Error:' | rpxTranslate }}</span> {{ 'Enter a query body' |
            rpxTranslate }}
          </p>
          <textarea [formControlName]="'body'" class="govuk-textarea"
                    [class.govuk-textarea--error]="formGroup.get('body')?.errors?.length" id="query-raise-body"
                    name="query-body" rows="5" aria-describedby="query-body-hint query-body-error">
          </textarea>
        </div>

        <div class="govuk-form-group">
          <fieldset class="govuk-fieldset">
            <legend>
              <label class="govuk-label govuk-label--m govuk-!-font-weight-bold">
                {{ 'Is the query hearing related?' | rpxTranslate }}
              </label>
            </legend>
            <div class="govuk-radios govuk-radios--inline" data-module="govuk-radios">
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="query-raise-isHearingRelated-yes" name="isHearingRelated"
                       type="radio"
                       formControlName="isHearingRelated"
                       [checked]="formGroup.get('isHearingRelated').value === true" [value]="true"
                >
                <label class="govuk-label govuk-radios__label" for="query-raise-isHearingRelated-yes">
                  {{ 'Is the query hearing related?' | rpxTranslate: null : 'Yes' }}
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="query-raise-isHearingRelated-no" name="isHearingRelated"
                       type="radio"
                       formControlName="isHearingRelated"
                       [checked]="formGroup.get('isHearingRelated').value === false" [value]="false"
                >
                <label class="govuk-label govuk-radios__label" for="query-raise-isHearingRelated-no">
                  {{ 'Is the query hearing related?' | rpxTranslate: null : 'No' }}
                </label>
              </div>
            </div>
          </fieldset>

          <ng-container *ngIf="formGroup.get('isHearingRelated').value">
            <div class="govuk-!-margin-top-1">
              <fieldset class="govuk-fieldset" role="group">
                <legend>
                  <label class="govuk-label govuk-label--s">
                    {{ 'Hearing date' | rpxTranslate }}
                  </label>
                </legend>
                <ccd-query-write-date-input formControlName="hearingDate"></ccd-query-write-date-input>
              </fieldset>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>
