<ng-container [formGroup]="formGroup">
  <div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="200">
    <div class="govuk-form-group" [ngClass]="{'form-group-error': errorMessages.length > 0}">
      <fieldset class="govuk-fieldset" aria-describedby="confirm-flag-status-heading">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
          <h1 id="confirm-flag-status-heading" class="govuk-fieldset__heading">
            {{confirmFlagStatusTitle | rpxTranslate}}
          </h1>
        </legend>
        <div class="govuk-radios govuk-radios--conditional govuk-!-margin-bottom-4" data-module="govuk-radios" id="conditional-radios-list">
          @for (status of flagCreationStatuses; track status; let i = $index) {
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="flag-status-{{i}}" [name]="selectedStatusControlName"
                type="radio" [value]="status" [formControlName]="selectedStatusControlName"/>
              <label class="govuk-label govuk-radios__label" for="flag-status-{{i}}">
                {{caseFlagStatusEnum[status] | rpxTranslate}}
              </label>
            </div>
          }
        </div>
      </fieldset>
      <div id="status-reason-hint" class="govuk-hint">
        {{statusReasonHint | rpxTranslate}}
      </div>
      @if (statusReasonNotEnteredErrorMessage) {
        <div id="status-reason-not-entered-error-message" class="govuk-error-message"
          >
          <span class="govuk-visually-hidden">{{'Error:' | rpxTranslate}}</span> {{statusReasonNotEnteredErrorMessage | rpxTranslate}}
        </div>
      }
      @if (statusReasonCharLimitErrorMessage) {
        <div id="status-reason-char-limit-error" class="govuk-error-message"
          >
          <span class="govuk-visually-hidden">{{'Error:' | rpxTranslate}}</span> {{statusReasonCharLimitErrorMessage | rpxTranslate}}
        </div>
      }
      <textarea class="govuk-textarea" [id]="statusReasonControlName"
        [name]="statusReasonControlName" [formControlName]="statusReasonControlName" rows="5"
      aria-describedby="status-reason-hint status-reason-char-limit-info"></textarea>
      <div id="status-reason-char-limit-info" class="govuk-hint govuk-character-count__message" aria-live="polite">
        {{statusReasonCharLimitInfo | rpxTranslate}}
      </div>
    </div>
  </div>
</ng-container>