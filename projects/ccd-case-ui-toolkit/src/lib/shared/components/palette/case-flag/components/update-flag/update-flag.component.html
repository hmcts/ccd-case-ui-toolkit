<ng-container [formGroup]="formGroup">
  <div>
    <div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="200">
      <div class="govuk-form-group" [ngClass]="{'form-group-error': errorMessages.length > 0}">
        <h1 class="govuk-label-wrapper govuk-!-margin-bottom-6">
          <label class="govuk-label govuk-label--l">
            {{ updateFlagTitle }}
          </label>
        </h1>

        <div class="govuk-!-margin-bottom-4">
          <div>
            <label class="govuk-label govuk-label--s" [for]="caseFlagFormFields.COMMENTS">
              {{ updateFlagTitle }} comments
            </label>
          </div>
          <div id="update-flag-hint" class="govuk-hint">
            {{updateFlagStepEnum.COMMENT_HINT_TEXT}}
          </div>
          <div id="update-flag-not-entered-error-message" class="govuk-error-message"
               *ngIf="updateFlagNotEnteredErrorMessage">
            <span class="govuk-visually-hidden">Error:</span> {{updateFlagNotEnteredErrorMessage}}
          </div>
          <div id="update-flag-char-limit-error" class="govuk-error-message"
               *ngIf="updateFlagCharLimitErrorMessage">
            <span class="govuk-visually-hidden">Error:</span> {{updateFlagCharLimitErrorMessage}}
          </div>
          <textarea class="govuk-textarea" [id]="caseFlagFormFields.COMMENTS"
                    [name]="caseFlagFormFields.COMMENTS" [formControlName]="caseFlagFormFields.COMMENTS" rows="5"
                    aria-describedby="update-flag-hint update-flag-char-limit-info update-flag-char-limit-error">
              </textarea>
          <div id="update-flag-char-limit-info" class="govuk-hint govuk-character-count__message" aria-live="polite">
            {{updateFlagStepEnum.COMMENT_CHARACTER_LIMIT_INFO}}
          </div>
        </div>
      </div>
    </div>

    <div>
      <div>
        <label class="govuk-label govuk-label--s govuk-!-margin-bottom-2">
          {{ updateFlagTitle }} status
        </label>
      </div>

      <div class="govuk-!-margin-bottom-4">
        <div class="govuk-radios" data-module="govuk-radios" [id]="caseFlagFormFields.STATUS">
          <div class="govuk-radios__item" *ngFor="let status of caseFlagStatuses | enumDisplayDescription">
            <input class="govuk-radios__input" type="radio"
                   [id]="caseFlagFormFields.STATUS + '_' + status"
                   [name]="caseFlagFormFields.STATUS"
                   [formControlName]="caseFlagFormFields.STATUS"
                   [value]="status">
            <label class="govuk-label govuk-radios__label" [for]="caseFlagFormFields.STATUS + '_' + status">
              {{ status }}
            </label>
          </div>
        </div>
      </div>

      <div>
        <div id="update-flag-status-hint" class="govuk-hint">
          {{updateFlagStepEnum.STATUS_HINT_TEXT}}
        </div>

        <textarea class="govuk-textarea"
                  [id]="caseFlagFormFields.STATUS_CHANGE_REASON"
                  [name]="caseFlagFormFields.STATUS_CHANGE_REASON"
                  [formControlName]="caseFlagFormFields.STATUS_CHANGE_REASON"
                  rows="5">
          </textarea>
      </div>
    </div>
  </div>


  <div class="govuk-!-margin-bottom-6">
    <div class="govuk-checkboxes" data-module="govuk-checkboxes">
      <div class="govuk-checkboxes__item">
        <input class="govuk-checkboxes__input" type="checkbox"
               [formControlName]="caseFlagFormFields.IS_WELSH_TRANSLATION_NEEDED"
               [id]="caseFlagFormFields.IS_WELSH_TRANSLATION_NEEDED"
               [name]="caseFlagFormFields.IS_WELSH_TRANSLATION_NEEDED">
        <label class="govuk-label govuk-checkboxes__label"
               [for]="caseFlagFormFields.IS_WELSH_TRANSLATION_NEEDED">
          I need to add a Welsh translation
        </label>
      </div>
    </div>
  </div>
</ng-container>


<div class="govuk-button-group">
  <button id="updateFlagNextButton" class="govuk-button" type="button" (click)="onNext()">
    Next
  </button>
</div>

