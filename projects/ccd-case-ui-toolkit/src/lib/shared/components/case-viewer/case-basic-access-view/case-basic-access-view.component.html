@if (showSpinner) {
  <ccd-loading-spinner ></ccd-loading-spinner>
}
<div>
  <cut-alert type="information">
    @if (accessType === 'CHALLENGED') {
      {{'This case requires' | rpxTranslate}} {{accessType | rpxTranslate | lowercase}} {{'access' | rpxTranslate}}.
    }
    @if (accessType === 'SPECIFIC') {
      {{'Authorisation is needed to access this case' | rpxTranslate}}
    }
    <br />
    @if (accessType === 'CHALLENGED') {
      {{'This is because the case is outside your work area. If you request access to the case, it will be logged for auditing purposes' | rpxTranslate}}.
    }
    @if (accessType === 'SPECIFIC') {
      {{"This could be because it's outside your jurisdiction, or you may be excluded from the case. If you request access to this case, it will be logged for auditing purposes" | rpxTranslate }}.
    }
  </cut-alert>
  <h1 class="heading-h1">#{{ caseDetails.case_id | ccdCaseReference}}</h1>
  <h2 class="govuk-heading-m">{{'Case details' | rpxTranslate}}</h2>
  <dl class="govuk-summary-list">
    @if (caseDetails.basicFields?.caseNameHmctsInternal) {
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key summary-key">{{'Case name' | rpxTranslate}}</dt>
        <dd class="govuk-summary-list__value">{{caseDetails.basicFields.caseNameHmctsInternal | rpxTranslate}}</dd>
      </div>
    }
    @if (caseDetails.case_type?.jurisdiction?.name) {
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key summary-key">{{'Service' | rpxTranslate}}</dt>
        <dd class="govuk-summary-list__value">{{caseDetails.case_type.jurisdiction.name | rpxTranslate}}</dd>
      </div>
    }
    @if (caseDetails.state?.description) {
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key summary-key">{{'State' | rpxTranslate}}</dt>
        <dd class="govuk-summary-list__value">{{caseDetails.state.description | rpxTranslate}}</dd>
      </div>
    }
    @if (courtOrHearingCentre) {
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key summary-key">{{'Court or hearing centre' | rpxTranslate}}</dt>
        <dd class="govuk-summary-list__value">{{courtOrHearingCentre | titlecase}}</dd>
      </div>
    }

    @if (accessType) {
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key summary-key">{{'Access' | rpxTranslate}}</dt>
        <dd class="govuk-summary-list__value">{{accessType | titlecase | rpxTranslate}}</dd>
      </div>
    }
  </dl>
</div>
<div class="govuk-button-group">
  <button class="govuk-button govuk-!-margin-right-3" [routerLink]="getRequestUrl(accessType)">
    {{'Request access' | rpxTranslate}}
  </button>
  <div class="govuk-grid-column-full govuk-!-padding-left-0">
    <p>
      <a class="govuk-body" (click)="onCancel()" href="javascript:void(0)">
        {{'Cancel' | rpxTranslate}}
      </a>
    </p>
  </div>
</div>
