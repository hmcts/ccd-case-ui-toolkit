language: node_js
cache: yarn
install:
  - npm install -g codecov
script:
  - yarn --version
  - yarn lint
  - yarn test
  - yarn build
  - yarn test:coverage
after_success:
  - codecov
deploy:
  provider: npm
  email: jenkins-reform@hmcts.net
  api_key:
    secure: uvxJFTNpKPrBBMAqCv8JIDWH2utaXWHyJ2jZBlGuep6dqS3bHGlM+3kMNSbRvgKKdThdyRnX4pqdA8A/6E682XV3iZwv5LNxfu7zkd7dtY79K23umhtqsqWSTfrPwa4zgTfFSTxUJHowme0HtqrJLNFdi4R8XneyTSpUXYt9kD2rlfkfzJJO/UVxp/gGsJwRVdinnJXg2t/0aS/vmmRVxK6jTwqOXFG+Mwx4EKoV1cbu5pie1d/TCFalZJ8wj27aRTwk1Npxniqu/Lqu+cl0/9YqgPW4mh9E+Ey4iyVbnpWcsvaE2Sd0v9yXbAcz94bxtwtpIOuL9IMWAjOcCnq2Uu43HRbZEwyRmPaqhgv0KA4yC8kbhTQupP2OMEZYefhOQAunCvElB9DlsWBiWd/KNiCL7tz2XbYsZXJSkq9hVuule32vC8vVLl1HR8mS9WeMAFKw+FfmRFGP9lDOYUMkObj1xS1Cbm43PsWEs0OKDgDYH91MrjOTLLvcuspexVeBG+1X7QdjzEO8uYb//UzFmuFPMbKsS7ZAr9sOPSkL6Ug5zyBDjv9QcomJa9gAAAiPJBDhfg3lUh988EA/Vx7WWIioqYsCBtGPbn1S3UPXqOvMbi+ccb9IGzdxhtHX+yVK7jc/U4u5/7u3vpqcijenrjgO9EVz6e/oYeaczUOO+7g=
  on:
    tags: true
    repo: hmcts/ccd-case-ui-toolkit
  skip_cleanup: true
